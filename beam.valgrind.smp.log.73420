==73472== Memcheck, a memory error detector
==73472== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==73472== Using Valgrind-3.19.0 and LibVEX; rerun with -h for copyright info
==73472== Command: /libs/otp_src_27.0/bin/x86_64-pc-linux-gnu/beam.valgrind.smp -S 6:6 -SDcpu 6:6 -JPperf true -- -root /libs/otp_src_27.0 -bindir /libs/otp_src_27.0/bin/x86_64-pc-linux-gnu -progname /libs/otp_src_27.0/bin/cerl\ -valgrind -- -home /root -- -emu_type valgrind -pa _build/default/lib/accept/ebin _build/default/lib/b64fast/ebin _build/default/lib/cowboy/ebin _build/default/lib/cowlib/ebin _build/default/lib/gun/ebin _build/default/lib/hb/ebin _build/default/lib/jiffy/ebin _build/default/lib/prometheus/ebin _build/default/lib/prometheus_cowboy/ebin _build/default/lib/prometheus_httpd/ebin _build/default/lib/quantile_estimator/ebin _build/default/lib/quicer/ebin _build/default/lib/ranch/ebin _build/default/lib/rocksdb/ebin _build/default/lib/snabbkaffe/ebin --
==73472== Parent PID: 73420
==73472== 
==73472== Warning: set address range perms: large range [0x51ae000, 0x451ae000) (noaccess)
==73472== Thread 7 erts_sched_3:
==73472== Invalid write of size 1
==73472==    at 0x54CA10A1: ei_decode_atom_as (decode_atom.c:83)
==73472==    by 0x54CA10F8: ei_decode_atom (decode_atom.c:28)
==73472==    by 0x54C623E2: wasm_driver_output (hb_beamr.c:114)
==73472==    by 0x502722: call_driver_output (io.c:1509)
==73472==    by 0x509678: erts_port_output (io.c:2052)
==73472==    by 0x50B085: erts_port_command (io.c:3994)
==73472==    by 0x4F8E12: do_send (bif.c:2320)
==73472==    by 0x4FC65E: erl_send (bif.c:2586)
==73472==    by 0x4FC922: send_2 (bif.c:2532)
==73472==    by 0x471B162E: $global::call_light_bif_shared+5E
==73472==    by 0x4DC5D3B7: ???
==73472==    by 0x4726EF97: $code_server:call/1+327
==73472==  Address 0x4e507034 is 0 bytes after a block of size 4 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C623BB: wasm_driver_output (hb_beamr.c:113)
==73472==    by 0x502722: call_driver_output (io.c:1509)
==73472==    by 0x509678: erts_port_output (io.c:2052)
==73472==    by 0x50B085: erts_port_command (io.c:3994)
==73472==    by 0x4F8E12: do_send (bif.c:2320)
==73472==    by 0x4FC65E: erl_send (bif.c:2586)
==73472==    by 0x4FC922: send_2 (bif.c:2532)
==73472==    by 0x471B162E: $global::call_light_bif_shared+5E
==73472==    by 0x4DC5D3B7: ???
==73472== 
==73472== Thread 4 erts_async_1:
==73472== Invalid write of size 8
==73472==    at 0x54C64284: wasm_initialize_runtime (hb_wasm.c:266)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d2f8 is 0 bytes after a block of size 104 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C63A3D: wasm_initialize_runtime (hb_wasm.c:161)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C642A5: wasm_initialize_runtime (hb_wasm.c:267)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d300 is 8 bytes after a block of size 104 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C63A3D: wasm_initialize_runtime (hb_wasm.c:161)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C642DC: wasm_initialize_runtime (hb_wasm.c:270)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d308 is 16 bytes after a block of size 104 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C63A3D: wasm_initialize_runtime (hb_wasm.c:161)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C642FD: wasm_initialize_runtime (hb_wasm.c:271)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d310 is 0 bytes after a block of size 128 in arena "client"
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C64329: wasm_initialize_runtime (hb_wasm.c:272)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d318 is 8 bytes after a block of size 128 in arena "client"
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C64346: wasm_initialize_runtime (hb_wasm.c:273)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d320 is 16 bytes after a block of size 128 in arena "client"
==73472== 
==73472== Invalid write of size 8
==73472==    at 0x54C64367: wasm_initialize_runtime (hb_wasm.c:274)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d328 is 24 bytes after a block of size 128 in arena "client"
==73472== 
==73472== Invalid read of size 8
==73472==    at 0x506444: driver_deliver_term (io.c:5687)
==73472==    by 0x50767B: erl_drv_output_term (io.c:6248)
==73472==    by 0x54C643B5: wasm_initialize_runtime (hb_wasm.c:278)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d2f8 is 0 bytes after a block of size 104 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C63A3D: wasm_initialize_runtime (hb_wasm.c:161)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472== 
==73472== Invalid read of size 8
==73472==    at 0x5066EF: driver_deliver_term (io.c:5792)
==73472==    by 0x50767B: erl_drv_output_term (io.c:6248)
==73472==    by 0x54C643B5: wasm_initialize_runtime (hb_wasm.c:278)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472==  Address 0x4dd1d300 is 8 bytes after a block of size 104 alloc'd
==73472==    at 0x48407B4: malloc (vg_replace_malloc.c:381)
==73472==    by 0x5CCC11: erts_sys_alloc (sys.c:997)
==73472==    by 0x508161: erts_alloc_fnf (erl_alloc.h:288)
==73472==    by 0x508161: driver_alloc (io.c:6590)
==73472==    by 0x54C63A3D: wasm_initialize_runtime (hb_wasm.c:161)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
==73472== 

valgrind: m_mallocfree.c:303 (get_bszB_as_is): Assertion 'bszB_lo == bszB_hi' failed.
valgrind: Heap block lo/hi size mismatch: lo = 192, hi = 3.
This is probably caused by your program erroneously writing past the
end of a heap block and corrupting heap metadata.  If you fix any
invalid writes reported by Memcheck, this assertion failure will
probably go away.  Please try that before reporting this as a bug.


host stacktrace:
==73472==    at 0x580429AA: show_sched_status_wrk (m_libcassert.c:406)
==73472==    by 0x58042AC7: report_and_quit (m_libcassert.c:477)
==73472==    by 0x58042C57: vgPlain_assert_fail (m_libcassert.c:543)
==73472==    by 0x5804C708: get_bszB_as_is (m_mallocfree.c:303)
==73472==    by 0x5804C708: is_inuse_block (m_mallocfree.c:331)
==73472==    by 0x5804C708: vgPlain_describe_arena_addr (m_mallocfree.c:1604)
==73472==    by 0x5803B31A: vgPlain_describe_addr (m_addrinfo.c:185)
==73472==    by 0x58039A1E: vgMemCheck_update_Error_extra (mc_errors.c:1185)
==73472==    by 0x5803E1F5: vgPlain_maybe_record_error (m_errormgr.c:822)
==73472==    by 0x58038CF8: vgMemCheck_record_address_error (mc_errors.c:765)
==73472==    by 0x5800F063: mc_LOADVn_slow (mc_main.c:1557)
==73472==    by 0x1010480787: ???
==73472==    by 0x10076B7F1F: ???
==73472==    by 0x10076B7F07: ???
==73472==    by 0x10076B7F1F: ???
==73472==    by 0x703F: ???
==73472==    by 0x100200D9EF: ???
==73472==    by 0x1: ???
==73472==    by 0x87E00001: ???
==73472==    by 0x100EBB61FF: ???
==73472==    by 0x10104800E7: ???

sched status:
  running_tid=4

Thread 1: status = VgTs_WaitSys syscall 270 (lwpid 73472)
==73472==    at 0x4CC795C: select (select.c:69)
==73472==    by 0x5CCE10: erts_sys_main_thread (sys.c:1281)
==73472==    by 0x4C7555: erl_start (erl_init.c:2555)
==73472==    by 0x309522: main (erl_main.c:33)
client stack range: [0x1FFEFF3000 0x1FFF000FFF] client SP: 0x1FFF000330
valgrind stack range: [0x10035BC000 0x10036BBFFF] top usage: 18792 of 1048576

Thread 2: status = VgTs_WaitSys syscall 0 (lwpid 73473)
==73472==    at 0x4CC125C: __libc_read (read.c:26)
==73472==    by 0x4CC125C: read (read.c:24)
==73472==    by 0x5CC2CF: signal_dispatcher_thread_func (sys.c:1133)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x451AF000 0x459ADFFF] client SP: 0x459ADE40
valgrind stack range: [0x1006B9D000 0x1006C9CFFF] top usage: 3528 of 1048576

Thread 3: status = VgTs_WaitSys syscall 202 (lwpid 73474)
==73472==    at 0x4C4EF16: __futex_abstimed_wait_common64 (futex-internal.c:57)
==73472==    by 0x4C4EF16: __futex_abstimed_wait_common (futex-internal.c:87)
==73472==    by 0x4C515D7: __pthread_cond_wait_common (pthread_cond_wait.c:503)
==73472==    by 0x4C515D7: pthread_cond_wait@@GLIBC_2.3.2 (pthread_cond_wait.c:618)
==73472==    by 0x6EAE35: ethr_cond_wait (ethr_mutex.c:1374)
==73472==    by 0x4E70FE: erts_cnd_wait (erl_threads.h:1834)
==73472==    by 0x4EAA13: sys_msg_dispatcher_func (erl_trace.c:2706)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x469B1000 0x471AFFFF] client SP: 0x471AFCF0
valgrind stack range: [0x10071F5000 0x10072F4FFF] top usage: 3440 of 1048576

Thread 4: status = VgTs_Runnable (lwpid 73475)
==73472==    at 0x5066B8: driver_deliver_term (io.c:5783)
==73472==    by 0x50767B: erl_drv_output_term (io.c:6248)
==73472==    by 0x54C643B5: wasm_initialize_runtime (hb_wasm.c:278)
==73472==    by 0x56FF0C: async_main (erl_async.c:432)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4B1B2000 0x4B1D2FFF] client SP: 0x4B1D29C0
valgrind stack range: [0x10075B8000 0x10076B7FFF] top usage: 4904 of 1048576

Thread 5: status = VgTs_WaitSys syscall 202 (lwpid 73477)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x471B2BC7: $global::process_main+EF
==73472==    by 0x36F: ???
==73472==    by 0x483282D7: $cpu_sup:measurement_server_loop/1+5F
==73472==    by 0x4CAD2D3F: ???
==73472==    by 0x48328B7B: $cpu_sup:measurement_server_loop/1+903
client stack range: [0x4C9D6000 0x4CAD6FFF] client SP: 0x4CAD2B78
valgrind stack range: [0x100812F000 0x100822EFFF] top usage: 5912 of 1048576

Thread 6: status = VgTs_WaitSys syscall 232 (lwpid 73478)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x5DD300: check_fd_events (erl_poll.c:1861)
==73472==    by 0x5DD7D1: erts_poll_wait (erl_poll.c:1959)
==73472==    by 0x5E180C: erts_check_io (erl_check_io.c:1936)
==73472==    by 0x3117EC: scheduler_wait (erl_process.c:3563)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x471B2BC7: $global::process_main+EF
==73472==    by 0x312664: sched_thread_func (erl_process.c:8697)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4CAD9000 0x4CBD9FFF] client SP: 0x4CBD5AB0
valgrind stack range: [0x1008273000 0x1008372FFF] top usage: 3440 of 1048576

Thread 7: status = VgTs_WaitSys syscall 202 (lwpid 73479)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x56F7A3: ethr_event_set (ethr_event.h:68)
==73472==    by 0x56F7E7: erts_tse_set (erl_threads.h:2473)
==73472==    by 0x56F7E7: async_wakeup (erl_async.c:376)
==73472==    by 0x5A818A: enqueue (erl_thr_queue.c:543)
==73472==    by 0x5A87C6: erts_thr_q_enqueue (erl_thr_queue.c:549)
==73472==    by 0x5700A2: async_add (erl_async.c:242)
==73472==    by 0x570A7F: driver_async (erl_async.c:597)
==73472==    by 0x54C62465: wasm_driver_output (hb_beamr.c:121)
==73472==    by 0x502722: call_driver_output (io.c:1509)
==73472==    by 0x509678: erts_port_output (io.c:2052)
==73472==    by 0x50B085: erts_port_command (io.c:3994)
==73472==    by 0x4F8E12: do_send (bif.c:2320)
==73472==    by 0x4FC65E: erl_send (bif.c:2586)
==73472==    by 0x4FC922: send_2 (bif.c:2532)
==73472==    by 0x471B162E: $global::call_light_bif_shared+5E
==73472==    by 0x4DC5D3B7: ???
==73472==    by 0x4726EF97: $code_server:call/1+327
==73472==    by 0xD7: ???
==73472==    by 0x47AC6BCF: $hb_beamr:'-start/2-fun-0-'/3+197
==73472==    by 0x4CCD8D37: ???
==73472==    by 0x47AC6BB3: $hb_beamr:'-start/2-fun-0-'/3+17B
==73472==    by 0xB33FAF: ???
client stack range: [0x4CBDC000 0x4CCDCFFF] client SP: 0x4CCD8468
valgrind stack range: [0x1008428000 0x1008527FFF] top usage: 14568 of 1048576

Thread 8: status = VgTs_WaitSys syscall 202 (lwpid 73480)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x471B2BC7: $global::process_main+EF
==73472==    by 0x312664: sched_thread_func (erl_process.c:8697)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4CCDF000 0x4CDDFFFF] client SP: 0x4CDDBB78
valgrind stack range: [0x1008568000 0x1008667FFF] top usage: 3440 of 1048576

Thread 9: status = VgTs_WaitSys syscall 202 (lwpid 73481)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x471B2BC7: $global::process_main+EF
==73472==    by 0x312664: sched_thread_func (erl_process.c:8697)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4CDE2000 0x4CEE2FFF] client SP: 0x4CEDEB78
valgrind stack range: [0x10086AC000 0x10087ABFFF] top usage: 3440 of 1048576

Thread 10: status = VgTs_WaitSys syscall 202 (lwpid 73482)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x471B2BC7: $global::process_main+EF
client stack range: [0x4CEE5000 0x4CFE5FFF] client SP: 0x4CFE1B78
valgrind stack range: [0x1008800000 0x10088FFFFF] top usage: 4248 of 1048576

Thread 11: status = VgTs_WaitSys syscall 202 (lwpid 73483)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D3E8000 0x4D438FFF] client SP: 0x4D438C38
valgrind stack range: [0x100893C000 0x1008A3BFFF] top usage: 3440 of 1048576

Thread 12: status = VgTs_WaitSys syscall 202 (lwpid 73484)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D43B000 0x4D48BFFF] client SP: 0x4D48BC38
valgrind stack range: [0x1008A54000 0x1008B53FFF] top usage: 3224 of 1048576

Thread 13: status = VgTs_WaitSys syscall 202 (lwpid 73485)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D48E000 0x4D4DEFFF] client SP: 0x4D4DEC38
valgrind stack range: [0x1008B6C000 0x1008C6BFFF] top usage: 3224 of 1048576

Thread 14: status = VgTs_WaitSys syscall 202 (lwpid 73486)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D4E1000 0x4D531FFF] client SP: 0x4D531C38
valgrind stack range: [0x1008C88000 0x1008D87FFF] top usage: 3224 of 1048576

Thread 15: status = VgTs_WaitSys syscall 202 (lwpid 73487)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D534000 0x4D584FFF] client SP: 0x4D584C38
valgrind stack range: [0x1008DA0000 0x1008E9FFFF] top usage: 3224 of 1048576

Thread 16: status = VgTs_WaitSys syscall 202 (lwpid 73488)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D191: sched_dirty_cpu_thread_func (erl_process.c:8748)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D587000 0x4D5D7FFF] client SP: 0x4D5D7C38
valgrind stack range: [0x1008EB8000 0x1008FB7FFF] top usage: 3224 of 1048576

Thread 17: status = VgTs_WaitSys syscall 202 (lwpid 73489)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D5DA000 0x4D62AFFF] client SP: 0x4D62AC38
valgrind stack range: [0x1008FD0000 0x10090CFFFF] top usage: 3224 of 1048576

Thread 18: status = VgTs_WaitSys syscall 202 (lwpid 73490)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D62D000 0x4D67DFFF] client SP: 0x4D67DC38
valgrind stack range: [0x10090E8000 0x10091E7FFF] top usage: 3440 of 1048576

Thread 19: status = VgTs_WaitSys syscall 202 (lwpid 73491)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D680000 0x4D6D0FFF] client SP: 0x4D6D0C38
valgrind stack range: [0x1009204000 0x1009303FFF] top usage: 3224 of 1048576

Thread 20: status = VgTs_WaitSys syscall 202 (lwpid 73492)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D6D3000 0x4D723FFF] client SP: 0x4D723C38
valgrind stack range: [0x1009320000 0x100941FFFF] top usage: 3608 of 1048576

Thread 21: status = VgTs_WaitSys syscall 202 (lwpid 73493)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D726000 0x4D776FFF] client SP: 0x4D776C38
valgrind stack range: [0x1009438000 0x1009537FFF] top usage: 3224 of 1048576

Thread 22: status = VgTs_WaitSys syscall 202 (lwpid 73494)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D779000 0x4D7C9FFF] client SP: 0x4D7C9C38
valgrind stack range: [0x1009550000 0x100964FFFF] top usage: 3224 of 1048576

Thread 23: status = VgTs_WaitSys syscall 202 (lwpid 73495)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D7CC000 0x4D81CFFF] client SP: 0x4D81CC38
valgrind stack range: [0x1009668000 0x1009767FFF] top usage: 3224 of 1048576

Thread 24: status = VgTs_WaitSys syscall 202 (lwpid 73496)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D81F000 0x4D86FFFF] client SP: 0x4D86FC38
valgrind stack range: [0x1009784000 0x1009883FFF] top usage: 3224 of 1048576

Thread 25: status = VgTs_WaitSys syscall 202 (lwpid 73497)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D872000 0x4D8C2FFF] client SP: 0x4D8C2C38
valgrind stack range: [0x100989C000 0x100999BFFF] top usage: 3528 of 1048576

Thread 26: status = VgTs_WaitSys syscall 202 (lwpid 73498)
==73472==    at 0x4CCA799: syscall (syscall.S:38)
==73472==    by 0x6EB93B: wait__ (ethr_event.c:171)
==73472==    by 0x6EBA99: ethr_event_twait (ethr_event.c:694)
==73472==    by 0x30D5B5: erts_tse_twait (erl_threads.h:2507)
==73472==    by 0x311883: scheduler_wait (erl_process.c:3598)
==73472==    by 0x3192D3: erts_schedule (erl_process.c:9834)
==73472==    by 0x493C61: erts_dirty_process_main (beam_common.c:177)
==73472==    by 0x30D093: sched_dirty_io_thread_func (erl_process.c:8798)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D8C5000 0x4D915FFF] client SP: 0x4D915C38
valgrind stack range: [0x10099B4000 0x1009AB3FFF] top usage: 3528 of 1048576

Thread 27: status = VgTs_WaitSys syscall 271 (lwpid 73499)
==73472==    at 0x4CC52D6: ppoll (ppoll.c:42)
==73472==    by 0x5E9F30: check_fd_events (erl_poll.flbk.c:1893)
==73472==    by 0x5EA3FB: erts_poll_wait_flbk (erl_poll.flbk.c:1959)
==73472==    by 0x5E1851: erts_check_io (erl_check_io.c:1931)
==73472==    by 0x311290: aux_thread (erl_process.c:3266)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D918000 0x4D968FFF] client SP: 0x4D968C80
valgrind stack range: [0x1009ACC000 0x1009BCBFFF] top usage: 3440 of 1048576

Thread 28: status = VgTs_WaitSys syscall 232 (lwpid 73500)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x5DD329: check_fd_events (erl_poll.c:1864)
==73472==    by 0x5DD7D1: erts_poll_wait (erl_poll.c:1959)
==73472==    by 0x5E180C: erts_check_io (erl_check_io.c:1936)
==73472==    by 0x30C184: poll_thread (erl_process.c:3368)
==73472==    by 0x6EB392: thr_wrapper (ethread.c:116)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x4D96B000 0x4D9BBFFF] client SP: 0x4D9BBCD0
valgrind stack range: [0x1009BE4000 0x1009CE3FFF] top usage: 3472 of 1048576

Thread 29: status = VgTs_WaitSys syscall 232 (lwpid 73507)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x51C33000 0x52431FFF] client SP: 0x52431D70
valgrind stack range: [0x100F719000 0x100F818FFF] top usage: 3440 of 1048576

Thread 30: status = VgTs_WaitSys syscall 232 (lwpid 73508)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x52434000 0x52C32FFF] client SP: 0x52C32D70
valgrind stack range: [0x100FA1D000 0x100FB1CFFF] top usage: 3224 of 1048576

Thread 31: status = VgTs_WaitSys syscall 232 (lwpid 73509)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x52C35000 0x53433FFF] client SP: 0x53433D70
valgrind stack range: [0x1011C0A000 0x1011D09FFF] top usage: 3224 of 1048576

Thread 32: status = VgTs_WaitSys syscall 232 (lwpid 73510)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x53436000 0x53C34FFF] client SP: 0x53C34D70
valgrind stack range: [0x1011F0E000 0x101200DFFF] top usage: 3224 of 1048576

Thread 33: status = VgTs_WaitSys syscall 232 (lwpid 73511)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x53C37000 0x54435FFF] client SP: 0x54435D70
valgrind stack range: [0x1012212000 0x1012311FFF] top usage: 3224 of 1048576

Thread 34: status = VgTs_WaitSys syscall 232 (lwpid 73512)
==73472==    at 0x4CD1EA6: epoll_wait (epoll_wait.c:30)
==73472==    by 0x519BBB66: CxPlatEventQDequeue (quic_platform_posix.h:1056)
==73472==    by 0x519BBB66: CxPlatProcessEvents (platform_worker.c:433)
==73472==    by 0x519BBCB7: CxPlatWorkerThread (platform_worker.c:497)
==73472==    by 0x4C521C3: start_thread (pthread_create.c:442)
==73472==    by 0x4CD1ABF: clone (clone.S:100)
client stack range: [0x54438000 0x54C36FFF] client SP: 0x54C36D70
valgrind stack range: [0x1012516000 0x1012615FFF] top usage: 3224 of 1048576


Note: see also the FAQ in the source distribution.
It contains workarounds to several common problems.
In particular, if Valgrind aborted or crashed after
identifying problems in your program, there's a good chance
that fixing those problems will prevent Valgrind aborting or
crashing, especially if it happened in m_mallocfree.c.

If that doesn't help, please report this bug to: www.valgrind.org

In the bug report, send all the above text, the valgrind
version, and what OS and version you are using.  Thanks.

